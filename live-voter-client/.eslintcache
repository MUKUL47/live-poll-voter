[{"D:\\mukul\\live-voter\\live-voter-client\\src\\index.js":"1","D:\\mukul\\live-voter\\live-voter-client\\src\\redux\\reducers.js":"2","D:\\mukul\\live-voter\\live-voter-client\\src\\components\\App.js":"3","D:\\mukul\\live-voter\\live-voter-client\\src\\redux\\actions.js":"4","D:\\mukul\\live-voter\\live-voter-client\\src\\components\\vote\\vote.jsx":"5","D:\\mukul\\live-voter\\live-voter-client\\src\\components\\create\\create.jsx":"6","D:\\mukul\\live-voter\\live-voter-client\\src\\components\\navbar\\navbar.jsx":"7","D:\\mukul\\live-voter\\live-voter-client\\src\\components\\vote\\vote.render.jsx":"8","D:\\mukul\\live-voter\\live-voter-client\\src\\components\\create\\create.render.jsx":"9","D:\\mukul\\live-voter\\live-voter-client\\src\\utils\\material.modules.js":"10","D:\\mukul\\live-poll-voter\\live-poll\\live-voter-client\\src\\index.js":"11","D:\\mukul\\live-poll-voter\\live-poll\\live-voter-client\\src\\components\\App.js":"12","D:\\mukul\\live-poll-voter\\live-poll\\live-voter-client\\src\\redux\\reducers.js":"13","D:\\mukul\\live-poll-voter\\live-poll\\live-voter-client\\src\\redux\\actions.js":"14","D:\\mukul\\live-poll-voter\\live-poll\\live-voter-client\\src\\components\\create\\create.jsx":"15","D:\\mukul\\live-poll-voter\\live-poll\\live-voter-client\\src\\components\\navbar\\navbar.jsx":"16","D:\\mukul\\live-poll-voter\\live-poll\\live-voter-client\\src\\components\\vote\\vote.jsx":"17","D:\\mukul\\live-poll-voter\\live-poll\\live-voter-client\\src\\utils\\material.modules.js":"18","D:\\mukul\\live-poll-voter\\live-poll\\live-voter-client\\src\\components\\create\\create.render.jsx":"19","D:\\mukul\\live-poll-voter\\live-poll\\live-voter-client\\src\\components\\vote\\vote.render.jsx":"20"},{"size":377,"mtime":1611670468000,"results":"21","hashOfConfig":"22"},{"size":292,"mtime":1611567018000,"results":"23","hashOfConfig":"22"},{"size":679,"mtime":1611685208000,"results":"24","hashOfConfig":"22"},{"size":64,"mtime":1611566134000,"results":"25","hashOfConfig":"22"},{"size":2350,"mtime":1611734194000,"results":"26","hashOfConfig":"22"},{"size":1848,"mtime":1611729706000,"results":"27","hashOfConfig":"22"},{"size":1858,"mtime":1611725228000,"results":"28","hashOfConfig":"22"},{"size":3567,"mtime":1611734930000,"results":"29","hashOfConfig":"22"},{"size":5217,"mtime":1611725220000,"results":"30","hashOfConfig":"22"},{"size":1424,"mtime":1611730352000,"results":"31","hashOfConfig":"22"},{"size":377,"mtime":1611670468000,"results":"32","hashOfConfig":"33"},{"size":755,"mtime":1611823132000,"results":"34","hashOfConfig":"33"},{"size":289,"mtime":1611822766000,"results":"35","hashOfConfig":"33"},{"size":74,"mtime":1611822432000,"results":"36","hashOfConfig":"33"},{"size":1895,"mtime":1611824300000,"results":"37","hashOfConfig":"33"},{"size":2091,"mtime":1611823072000,"results":"38","hashOfConfig":"33"},{"size":3942,"mtime":1611824606000,"results":"39","hashOfConfig":"33"},{"size":1424,"mtime":1611730352000,"results":"40","hashOfConfig":"33"},{"size":5901,"mtime":1611825576000,"results":"41","hashOfConfig":"33"},{"size":4330,"mtime":1611824068000,"results":"42","hashOfConfig":"33"},{"filePath":"43","messages":"44","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"1yph74w",{"filePath":"45","messages":"46","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"47","messages":"48","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"49","messages":"50","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"51","messages":"52","errorCount":0,"warningCount":7,"fixableErrorCount":0,"fixableWarningCount":4,"source":"53","usedDeprecatedRules":"54"},{"filePath":"55","messages":"56","errorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":2,"source":"57","usedDeprecatedRules":"54"},{"filePath":"58","messages":"59","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"60","usedDeprecatedRules":"54"},{"filePath":"61","messages":"62","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"63","messages":"64","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"65","usedDeprecatedRules":"54"},{"filePath":"66","messages":"67","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"54"},{"filePath":"68","messages":"69","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"70"},"1bu9hu0",{"filePath":"71","messages":"72","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"70"},{"filePath":"73","messages":"74","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"70"},{"filePath":"75","messages":"76","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"70"},{"filePath":"77","messages":"78","errorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":2,"source":"79","usedDeprecatedRules":"70"},{"filePath":"80","messages":"81","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"82","usedDeprecatedRules":"70"},{"filePath":"83","messages":"84","errorCount":0,"warningCount":9,"fixableErrorCount":0,"fixableWarningCount":4,"source":"85","usedDeprecatedRules":"70"},{"filePath":"86","messages":"87","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"70"},{"filePath":"88","messages":"89","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"90"},{"filePath":"91","messages":"92","errorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"93","usedDeprecatedRules":"70"},"D:\\mukul\\live-voter\\live-voter-client\\src\\index.js",[],"D:\\mukul\\live-voter\\live-voter-client\\src\\redux\\reducers.js",[],"D:\\mukul\\live-voter\\live-voter-client\\src\\components\\App.js",[],"D:\\mukul\\live-voter\\live-voter-client\\src\\redux\\actions.js",[],"D:\\mukul\\live-voter\\live-voter-client\\src\\components\\vote\\vote.jsx",["94","95","96","97","98","99","100"],"import React, { useEffect, useState } from 'react'\r\nimport { useHistory } from 'react-router'\r\nimport { defaultHeaders, LoopIcon } from '../../utils/material.modules'\r\nimport {VotePoll, VoteStats} from './vote.render'\r\nfunction Vote(props) {\r\n    const [voteContext, setVoteContext] = useState({ \r\n        voteStat : 1, \r\n        pollData : null, \r\n        id : window.location.pathname.split('/')[2],\r\n        voteStatus : 'Vote'\r\n    })\r\n    const history = useHistory();\r\n    const setContext = obj => setVoteContext({ ...voteContext,  ...obj})\r\n    useEffect(() => {\r\n        fetch('http://localhost:8080'+window.location.pathname, { headers: defaultHeaders}). \r\n        then(r => r.json()).\r\n        then(response => {\r\n            if(response['message']){\r\n                if(response.code != 200){\r\n                    history.push('/create', { alert : response.message || 'Unknown error occured' })\r\n                    return \r\n                }\r\n                console.log(response.message)\r\n                setContext({pollData : response.message})\r\n            }\r\n        })\r\n    }, [])\r\n    const vote = index => {\r\n        setContext({ voteStatus : 'Voting' })\r\n        fetch(`http://localhost:8080/vote/${voteContext.id}/${index}`, { headers : defaultHeaders, method : 'POST' }). \r\n        then(r => r.json()).\r\n        then(response => {\r\n            setContext({ voteStatus : 'Vote' })\r\n            if(response.code != 201){\r\n                alert(response.message || 'Unknown error occured')\r\n                return \r\n            }\r\n            alert('Voted successfully!')\r\n            // history.push('/create', { alert : 'Voted successfully!' })\r\n        })\r\n    }\r\n    return (\r\n        <>\r\n            {\r\n                voteContext.pollData ?\r\n                voteContext.voteStat ?\r\n                <VotePoll \r\n                    showVote={() => setContext({voteStat : 0})} \r\n                    vote={vote}\r\n                    pollData={voteContext.pollData}\r\n                    voteStatus={voteContext.voteStatus}\r\n                /> :\r\n                <VoteStats \r\n                    goBack={() => setContext({voteStat : 1})}\r\n                />\r\n                :<LoopIcon className='vote-loading'/>\r\n\r\n            }\r\n        </>\r\n    )\r\n}\r\nexport default Vote\r\n\r\n",["101","102"],"D:\\mukul\\live-voter\\live-voter-client\\src\\components\\create\\create.jsx",["103","104","105"],"import React, { useState, useEffect } from 'react'\r\nimport { useLocation } from 'react-router';\r\nimport CreateRender, { OnCreate } from './create.render'\r\nfunction Create(props) {\r\n    const createLocation = useLocation()\r\n    const [createContext, setCreateContext] = useState(\r\n        {   loading : false, \r\n            created : false, \r\n            resetCreateForm : true,\r\n            id : null\r\n        });\r\n    const setContext = keyValue => setCreateContext({...createContext, ...keyValue})\r\n    useEffect(()=>{\r\n        if(createLocation.state.alert){\r\n            setTimeout(() => alert(createLocation.state.alert), 500)\r\n        }\r\n    },[])\r\n    const submit = form => {\r\n        setContext({ loading : true })\r\n        fetch('http://localhost:8080/poll', { method : \"GSA\", body : JSON.stringify(form), \r\n        headers: {\r\n          'Accept': 'application/json',\r\n          'Content-Type': 'application/json'\r\n        } }). \r\n        then(r => r.json()). \r\n        then(response => {\r\n            setContext({ loading : false, created : true, resetCreateForm : Math.random(), id : response['message'] })\r\n        }).catch(e => {\r\n            setContext({ loading : false })\r\n            alert(`ERROR : ${JSON.stringify(e)}`)\r\n        })\r\n    }\r\n    const closeCreated = () => {\r\n        setContext({ created : false });\r\n    }\r\n    return (\r\n        <>\r\n            <CreateRender \r\n                submit={submit} \r\n                loading={createContext.loading} \r\n                resetCreateForm={createContext.resetCreateForm}\r\n            />\r\n            {\r\n                createContext.created ? \r\n                <OnCreate \r\n                    id={createContext.id} \r\n                    close={closeCreated}\r\n                /> : null\r\n            }\r\n        </>\r\n    )\r\n}\r\nexport default Create\r\n\r\n","D:\\mukul\\live-voter\\live-voter-client\\src\\components\\navbar\\navbar.jsx",["106","107"],"\r\nimport React, { useState } from 'react'\r\nimport Create from '../create/create';\r\nimport Vote from '../vote/vote'\r\nimport './navbar.css'\r\nimport {\r\n    useHistory\r\n} from \"react-router-dom\";\r\nfunction NavBar(props) {\r\n    const history = useHistory();\r\n    const [votePoll, setVotePoll] = useState(false)\r\n    const toCreate = () => {\r\n        history.push('/create')\r\n    }\r\n    const onModal = type => {\r\n        if(!type || type.trim().length === 0){\r\n            setVotePoll(false)\r\n            return;\r\n        }\r\n        setVotePoll(false)\r\n        history.push('/vote/'+type)\r\n    }\r\n    return (\r\n        <div className=\"main\">\r\n            <div className=\"navbar\">\r\n                <div className=\"nav-items\">\r\n                    <div className=\"nav-item\" onClick={toCreate}>Create Poll</div>\r\n                    <div className=\"nav-item\" onClick={() => setVotePoll(true)}>Vote Poll</div>\r\n                </div>\r\n                <h1 className=\"header\">\r\n                    Live Voter\r\n                </h1>\r\n            </div>\r\n            {\r\n                votePoll ? <EnterPollIdTemplate onModal = {onModal}/> : null\r\n            }\r\n            \r\n        </div>\r\n    )\r\n}\r\nfunction EnterPollIdTemplate({ onModal }){\r\n    const [pollId, setPollId] = useState('')\r\n    return <div className=\"overlay\">\r\n        <div className=\"overlay-div poll-template\">\r\n            <h2 className=\"enter-pollid\">Enter Poll ID</h2>\r\n            <input focus type=\"text\" className=\"poll-inp\" value={pollId} onChange={e => setPollId(e.target.value)}/>\r\n            <div className=\"submit-poll-id\">\r\n                <button onClick={() => onModal(pollId)} disabled={pollId.trim().length === 0}>Submit</button>\r\n                <div  onClick={() => onModal(false)}>Cancel</div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n}\r\nexport default NavBar\r\n\r\n","D:\\mukul\\live-voter\\live-voter-client\\src\\components\\vote\\vote.render.jsx",["108"],"D:\\mukul\\live-voter\\live-voter-client\\src\\components\\create\\create.render.jsx",["109","110"],"import React, { useState, useEffect, createRef, useRef } from 'react'\r\nimport { CheckCircleIcon } from '../../utils/material.modules'\r\nimport './create.css'\r\nfunction CreateRender({ submit, loading, resetCreateForm }) {\r\n    const [form, setForm] = useState({ title : '', description : '', options : ['', ''] })\r\n    useEffect(() => {\r\n        setForm({ title : '', description : '', options : ['', ''] })\r\n    },[resetCreateForm])\r\n    const submitForm = e => {\r\n        e.preventDefault();\r\n        const cForm = {...form}\r\n        cForm.options = form.options.filter(option => option.trim().length > 0) \r\n        submit(cForm)\r\n    }\r\n    const optionChange = (e, i) => {\r\n        let optionsClone = [...form.options]\r\n        optionsClone[i] = e.target.value;\r\n        setForm({ ...form, options : optionsClone })\r\n    }\r\n    const optionClick = i => {\r\n        if(i < form.options.length-1) return\r\n        let optionsClone = [...form.options]\r\n        optionsClone.push('')\r\n        setForm({ ...form, options :optionsClone })\r\n    }\r\n    const removeOption = i => {\r\n        let optionsClone = [...form.options]\r\n        optionsClone.splice(i, 1)\r\n        setForm({ ...form, options :optionsClone })\r\n    }\r\n    return (\r\n        <div className=\"create-render\">\r\n            <h1 className=\"create_header\">\r\n                Create a Poll\r\n            </h1>\r\n            <form onSubmit={submitForm}>\r\n            <div className=\"create_poll-inp\">\r\n                <div className=\"poll-inp--header\">\r\n                    Title\r\n                </div>\r\n                <div className=\"pol-inp--val\">\r\n                    <input required \r\n                        type=\"text\" \r\n                        placeholder=\"Type your question here\" \r\n                        className=\"standard-inp\" \r\n                        value={form.title} \r\n                        onChange={e => setForm({ ...form, title : e.target.value })}\r\n                    />\r\n                </div>\r\n            </div>\r\n            \r\n                <div className=\"create_poll-inp\">\r\n                    <div className=\"poll-inp--header\">\r\n                        Description (Optional)\r\n                    </div>\r\n                    <div className=\"pol-inp--val\">\r\n                        <textarea \r\n                            placeholder=\"Enter an introduction text...\" \r\n                            className=\"standard-inp\" \r\n                            value={form.description} \r\n                            onChange={e => setForm({ ...form, description : e.target.value })}\r\n                        >\r\n\r\n                        </textarea>\r\n                    </div>\r\n                </div>\r\n\r\n                <div className=\"create_poll-inp\">\r\n                    <div className=\"poll-inp--header\">\r\n                        Answer Options\r\n                    </div>\r\n                    \r\n                        {\r\n                            form.options.map((o, i) => {\r\n                                return <div className=\"pol-inp--val option-inp\"> \r\n                                    <input \r\n                                        required ={i <= 1}\r\n                                        type=\"text\" \r\n                                        placeholder={`Enter Option ${i+1}`} \r\n                                        className=\"standard-inp\"\r\n                                        value={o}\r\n                                        key={i}\r\n                                        onClick={() => optionClick(i)}\r\n                                        onChange={e => optionChange(e, i)}\r\n                                    />\r\n                                    {\r\n                                        i > 1 ? <div className=\"remove-option\" onClick={() => removeOption(i)}>x</div> : null\r\n                                    }\r\n                                </div>\r\n                            })\r\n                        }\r\n                    \r\n                </div>\r\n\r\n                <div className=\"create-pol-submit\">\r\n                    <button disabled={loading}>{loading ? 'Submitting...' : 'Submit'}</button>\r\n                </div>\r\n            </form>\r\n        </div>\r\n    )\r\n}\r\nfunction OnCreate({ id, close }){\r\n    const [copy, setCopy] = useState(true);\r\n    const [select, setSelect] = useState(useRef());\r\n    const closeModal = ()=>{\r\n        select.current.select()\r\n        document.execCommand(\"copy\");\r\n        setCopy(false)\r\n        setTimeout(() => close(), 1000)\r\n    }\r\n    return (\r\n        <div className=\"overlay\">\r\n            <div className=\"overlay-div created-poll\">\r\n                <div className=\"success-icon\">\r\n                    <CheckCircleIcon/>\r\n                </div>\r\n                <input style={{opacity:0, position:'absolute', zIndex : -1}} ref={select} value= {id}/>\r\n                <div className=\"poll-msg\">{`Poll created ID : ${id}`}</div>\r\n                <button \r\n                    disabled={!copy} \r\n                    className=\"poll-copy-btn\"\r\n                    onClick={closeModal}\r\n                >{copy ? 'Copy' : 'copied'}</button>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\nexport {OnCreate}\r\nexport default CreateRender\r\n\r\n","D:\\mukul\\live-voter\\live-voter-client\\src\\utils\\material.modules.js",[],"D:\\mukul\\live-poll-voter\\live-poll\\live-voter-client\\src\\index.js",[],["111","112"],"D:\\mukul\\live-poll-voter\\live-poll\\live-voter-client\\src\\components\\App.js",[],"D:\\mukul\\live-poll-voter\\live-poll\\live-voter-client\\src\\redux\\reducers.js",[],"D:\\mukul\\live-poll-voter\\live-poll\\live-voter-client\\src\\redux\\actions.js",[],"D:\\mukul\\live-poll-voter\\live-poll\\live-voter-client\\src\\components\\create\\create.jsx",["113","114","115"],"import React, { useState, useEffect } from 'react'\r\nimport { useLocation } from 'react-router';\r\nimport CreateRender, { OnCreate } from './create.render'\r\nfunction Create(props) {\r\n    const createLocation = useLocation()\r\n    const [createContext, setCreateContext] = useState(\r\n        {   loading : false, \r\n            created : false, \r\n            resetCreateForm : true,\r\n            id : null\r\n        });\r\n    const setContext = keyValue => setCreateContext({...createContext, ...keyValue})\r\n    useEffect(()=>{\r\n        document.title = 'Live Poll | Create'\r\n        if(createLocation.state && createLocation.state.alert){\r\n            setTimeout(() => alert(createLocation.state.alert), 500)\r\n        }\r\n    },[])\r\n    const submit = form => {\r\n        setContext({ loading : true })\r\n        fetch('http://localhost:8080/poll', { method : \"POST\", body : JSON.stringify(form), \r\n        headers: {\r\n          'Accept': 'application/json',\r\n          'Content-Type': 'application/json'\r\n        } }). \r\n        then(r => r.json()). \r\n        then(response => {\r\n            setContext({ loading : false, created : true, resetCreateForm : Math.random(), id : response['message'] })\r\n        }).catch(e => {\r\n            setContext({ loading : false })\r\n            alert(`ERROR : ${JSON.stringify(e)}`)\r\n        })\r\n    }\r\n    const closeCreated = () => {\r\n        setContext({ created : false });\r\n    }\r\n    return (\r\n        <>\r\n            <CreateRender \r\n                submit={submit} \r\n                loading={createContext.loading} \r\n                resetCreateForm={createContext.resetCreateForm}\r\n            />\r\n            {\r\n                createContext.created ? \r\n                <OnCreate \r\n                    id={createContext.id} \r\n                    close={closeCreated}\r\n                /> : null\r\n            }\r\n        </>\r\n    )\r\n}\r\nexport default Create\r\n\r\n","D:\\mukul\\live-poll-voter\\live-poll\\live-voter-client\\src\\components\\navbar\\navbar.jsx",["116","117"],"\r\nimport React, { useState } from 'react'\r\nimport Create from '../create/create';\r\nimport Vote from '../vote/vote'\r\nimport './navbar.css'\r\nimport {\r\n    useHistory\r\n} from \"react-router-dom\";\r\nfunction NavBar(props) {\r\n    const history = useHistory();\r\n    const [votePoll, setVotePoll] = useState(false)\r\n    const toCreate = () => {\r\n        history.push('/create')\r\n    }\r\n    const onModal = type => {\r\n        if(!type || type.trim().length === 0 || type.includes(' ') || type.includes('/')){\r\n            alert('Invalid poll ID')\r\n            return;\r\n        }\r\n        setVotePoll(false)\r\n        history.push('/vote/'+type)\r\n    }\r\n    return (\r\n        <div className=\"main\">\r\n            <div className=\"navbar\">\r\n                <div className=\"nav-items\">\r\n                    <div className=\"nav-item\" onClick={toCreate}>Create Poll</div>\r\n                    <div className=\"nav-item\" onClick={() => setVotePoll(true)}>Vote Poll</div>\r\n                </div>\r\n                <h1 className=\"header\">\r\n                    Live Voter\r\n                </h1>\r\n            </div>\r\n            {\r\n                votePoll ? <EnterPollIdTemplate onModal = {onModal}/> : null\r\n            }\r\n            \r\n        </div>\r\n    )\r\n}\r\nfunction EnterPollIdTemplate({ onModal }){\r\n    const [pollId, setPollId] = useState('')\r\n    return <div className=\"overlay\">\r\n        <div className=\"overlay-div poll-template\">\r\n            <h2 className=\"enter-pollid\">Enter Poll ID</h2>\r\n            <input type=\"text\" className=\"poll-inp\" value={pollId} onChange={e => setPollId(e.target.value)}/>\r\n            <div className=\"submit-poll-id\">\r\n                <button onClick={() => onModal(pollId)} disabled={pollId.trim().length === 0}>Submit</button>\r\n                <div  onClick={() => onModal(false)}>Cancel</div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n}\r\nexport default NavBar\r\n\r\n","D:\\mukul\\live-poll-voter\\live-poll\\live-voter-client\\src\\components\\vote\\vote.jsx",["118","119","120","121","122","123","124","125","126"],"import React, { useEffect, useState } from 'react'\r\nimport { useHistory } from 'react-router'\r\nimport { defaultHeaders, LoopIcon } from '../../utils/material.modules'\r\nimport {VotePoll, VoteStats} from './vote.render'\r\nimport {useSelector} from 'react-redux'\r\nfunction Vote(props) {\r\n    const [voteContext, setVoteContext] = useState({ \r\n        voteStat : 1, \r\n        pollData : null, \r\n        id : window.location.pathname.split('/')[2],\r\n        voteStatus : 'Vote',\r\n        newPollVotes : null\r\n    })\r\n    const history = useHistory();\r\n    const reduxSelector = useSelector(s => s.test)\r\n    const setContext = obj => setVoteContext({ ...voteContext,  ...obj})\r\n    const fetchPoll = isFirst => {\r\n        fetch('http://localhost:8080'+window.location.pathname, { headers: defaultHeaders}). \r\n        then(r => r.json()).\r\n        then(response => {\r\n            if(response['message']){\r\n                if(isFirst){\r\n                    if(response.code != 200){\r\n                        setTimeout(() => alert(response.message || 'Unknown error occured'), 500)\r\n                        history.push('/create')\r\n                        return \r\n                    }\r\n                    setContext({pollData : response.message})\r\n                }\r\n                else if(!isFirst && response.code === 200){\r\n                    setContext({pollData : response.message})\r\n                }\r\n            }\r\n        })\r\n    }\r\n    useEffect(() => {\r\n        document.title = `Live Poll | ${voteContext?.pollData?.title || voteContext.id}`\r\n    },[voteContext?.pollData])\r\n    useEffect(() => {\r\n        document.title = 'Live Poll'\r\n        setContext({ pollData : null })\r\n        fetchPoll(true)\r\n    },[reduxSelector])\r\n    useEffect(() => {\r\n        if(voteContext.voteStat === 1) return\r\n        fetchPoll(false)\r\n    }, [voteContext.voteStat])\r\n    const findCookie = () => {\r\n        const cookies = document.cookie.split(';')\r\n        return cookies.find(cookie => cookie.trim() === `VOTED_${voteContext.id}=${voteContext.id}`)\r\n    }\r\n    const getIp = () =>{\r\n        return new Promise((resolve)=>{\r\n            fetch('https://ipv4.icanhazip.com').then(r=>r.text()).then(resolve).catch(e => { throw Error(e) })\r\n        })\r\n    }\r\n    const vote = async index => {\r\n       try{\r\n        const ipVoteType = voteContext.pollData.voteType === 'IP';\r\n        if(!ipVoteType && findCookie()){\r\n            alert('You have already voted')\r\n            return \r\n        }\r\n        setContext({ voteStatus : 'Voting' })\r\n        const body = ipVoteType ? {body : JSON.stringify({ ip : await getIp() })} : {}\r\n        fetch(`http://localhost:8080/vote/${voteContext.id}/${index}`, { headers : defaultHeaders, method : 'POST', ...body }). \r\n        then(r => r.json()).\r\n        then(response => {\r\n            setContext({ voteStatus : 'Vote' })\r\n            if(response.code != 200){\r\n                alert(response.message || 'Unknown error occured')\r\n                return \r\n            }\r\n            if(!ipVoteType){\r\n                document.cookie=`VOTED_${voteContext.id}=${voteContext.id}`;\r\n            }\r\n            alert('Voted successfully!')\r\n        })\r\n       }catch(e){\r\n        alert(e)\r\n       }\r\n    }\r\n    return (\r\n        <>\r\n            {\r\n                voteContext.pollData ?\r\n                voteContext.voteStat ?\r\n                <VotePoll \r\n                    showVote={() => setContext({voteStat : 0})} \r\n                    vote={vote}\r\n                    pollData={voteContext.pollData}\r\n                    voteStatus={voteContext.voteStatus}\r\n                /> :\r\n                <VoteStats\r\n                    pollData={voteContext.pollData}\r\n                    goBack={() => setContext({voteStat : 1})}\r\n                    id={voteContext.id}\r\n                />\r\n                :<LoopIcon className='vote-loading'/>\r\n\r\n            }\r\n        </>\r\n    )\r\n}\r\nexport default Vote\r\n\r\n","D:\\mukul\\live-poll-voter\\live-poll\\live-voter-client\\src\\utils\\material.modules.js",[],"D:\\mukul\\live-poll-voter\\live-poll\\live-voter-client\\src\\components\\create\\create.render.jsx",["127"],"import React, { useState, useEffect, useRef } from 'react'\r\nimport { CheckCircleIcon } from '../../utils/material.modules'\r\nimport './create.css'\r\nfunction CreateRender({ submit, loading, resetCreateForm }) {\r\n    const [form, setForm] = useState({ title : '', description : '', options : ['', ''], voteType : 'IP' })\r\n    useEffect(() => {\r\n        setForm({ title : '', description : '', options : ['', ''] })\r\n    },[resetCreateForm])\r\n    const submitForm = e => {\r\n        e.preventDefault();\r\n        const cForm = {...form}\r\n        cForm.options = form.options.filter(option => option.trim().length > 0) \r\n        submit(cForm)\r\n    }\r\n    const optionChange = (e, i) => {\r\n        let optionsClone = [...form.options]\r\n        optionsClone[i] = e.target.value;\r\n        setForm({ ...form, options : optionsClone })\r\n    }\r\n    const optionClick = i => {\r\n        if(i < form.options.length-1) return\r\n        let optionsClone = [...form.options]\r\n        optionsClone.push('')\r\n        setForm({ ...form, options :optionsClone })\r\n    }\r\n    const removeOption = i => {\r\n        let optionsClone = [...form.options]\r\n        optionsClone.splice(i, 1)\r\n        setForm({ ...form, options :optionsClone })\r\n    }\r\n    return (\r\n        <div className=\"create-render\">\r\n            <h1 className=\"create_header\">\r\n                Create a Poll\r\n            </h1>\r\n            <form onSubmit={submitForm}>\r\n            <div className=\"create_poll-inp\">\r\n                <div className=\"poll-inp--header\">\r\n                    Title\r\n                </div>\r\n                <div className=\"pol-inp--val\">\r\n                    <input required \r\n                        type=\"text\" \r\n                        placeholder=\"Type your question here\" \r\n                        className=\"standard-inp\" \r\n                        value={form.title} \r\n                        onChange={e => setForm({ ...form, title : e.target.value })}\r\n                    />\r\n                </div>\r\n            </div>\r\n            \r\n                <div className=\"create_poll-inp\">\r\n                    <div className=\"poll-inp--header\">\r\n                        Description (Optional)\r\n                    </div>\r\n                    <div className=\"pol-inp--val\">\r\n                        <textarea \r\n                            placeholder=\"Enter an introduction text...\" \r\n                            className=\"standard-inp\" \r\n                            value={form.description} \r\n                            onChange={e => setForm({ ...form, description : e.target.value })}\r\n                        >\r\n\r\n                        </textarea>\r\n                    </div>\r\n                </div>\r\n\r\n                <div className=\"create_poll-inp\">\r\n                    <div className=\"poll-inp--header\">\r\n                        Answer Options\r\n                    </div>\r\n                    \r\n                        {\r\n                            form.options.map((o, i) => {\r\n                                return <div className=\"pol-inp--val option-inp\" \r\n                                key={i}> \r\n                                    <input \r\n                                        required ={i <= 1}\r\n                                        type=\"text\" \r\n                                        placeholder={`Enter Option ${i+1}`} \r\n                                        className=\"standard-inp\"\r\n                                        value={o}\r\n                                        onClick={() => optionClick(i)}\r\n                                        onFocus={() => optionClick(i)}\r\n                                        onChange={e => optionChange(e, i)}\r\n                                    />\r\n                                    {\r\n                                        i > 1 ? <div className=\"remove-option\" onClick={() => removeOption(i)}>x</div> : null\r\n                                    }\r\n                                </div>\r\n                            })\r\n                        }\r\n                    \r\n                </div>\r\n\r\n                <div className=\"create_poll-inp\">\r\n                    <div className=\"poll-inp--header\">\r\n                       Vote Settings\r\n                    </div>\r\n                    <div className=\"pol-inp--val\">\r\n                        <select name=\"\" id=\"\" className=\"standard-inp select-type\" onChange={e => setForm({ ...form, voteType :e.target.value })}>\r\n                            <option value=\"IP\">Unique IP</option>\r\n                            <option value=\"COOKIE\">Unique Browser session</option>\r\n                        </select>\r\n                    </div>\r\n                </div>\r\n\r\n                <div className=\"create-pol-submit\">\r\n                    <button disabled={loading}>{loading ? 'Submitting...' : 'Submit'}</button>\r\n                </div>\r\n            </form>\r\n        </div>\r\n    )\r\n}\r\nfunction OnCreate({ id, close }){\r\n    const [copy, setCopy] = useState(true);\r\n    const [select, setSelect] = useState(useRef());\r\n    const closeModal = ()=>{\r\n        select.current.select()\r\n        document.execCommand(\"copy\");\r\n        setCopy(false)\r\n        setTimeout(() => close(), 1000)\r\n    }\r\n    return (\r\n        <div className=\"overlay\">\r\n            <div className=\"overlay-div created-poll\">\r\n                <div className=\"success-icon\">\r\n                    <CheckCircleIcon/>\r\n                </div>\r\n                <input style={{opacity:0, position:'absolute', zIndex : -1}} ref={select} value= {id}/>\r\n                <div className=\"poll-msg\">{`Poll created ID : ${id}`}</div>\r\n                <button \r\n                    disabled={!copy} \r\n                    className=\"poll-copy-btn\"\r\n                    onClick={closeModal}\r\n                >{copy ? 'Copy' : 'copied'}</button>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\nexport {OnCreate}\r\nexport default CreateRender\r\n\r\n","D:\\mukul\\live-poll-voter\\live-poll\\live-voter-client\\src\\components\\vote\\vote.render.jsx",["128","129","130"],"import React, { useEffect, useState } from 'react'\r\nimport { formatSeconds } from '../../utils/material.modules'\r\nimport './vote.css'\r\nimport io from \"socket.io-client\";\r\nexport function VotePoll({vote, showVote, pollData, voteStatus}) {\r\n    const [myOption, setMyOption] = useState(-1)\r\n    return (\r\n        <div className=\"vote-poll\">\r\n            <h1 className=\"poll-title\">\r\n                {pollData.title}\r\n            </h1>\r\n            <p className=\"poll-time\">\r\n                Created {formatSeconds(Number(((new Date().valueOf() - pollData.createdAt)/1000).toFixed()))} ago\r\n            </p>\r\n            <div className=\"poll-star\">\r\n                <p className=\"poll__description\">\r\n                    {pollData.description || ''}\r\n                </p>\r\n                <p className=\"choose-answer\">\r\n                    Choose an answer\r\n                </p>\r\n                <div className=\"poll-votes\">\r\n                    {\r\n                        (pollData.options || []).map((option, i) => \r\n                        {\r\n                            return <div className=\"poll-option\" vote={i} key={i}>\r\n                            <input type=\"radio\" name=\"option\" value={myOption === i} className=\"poll-check\" onClick={() => setMyOption(i)}/>\r\n                            <div className=\"poll-option-ans\" onClick={()=>setMyOption(i)}>\r\n                                {option}\r\n                            </div>\r\n                        </div>\r\n                        }\r\n                    )\r\n                    }\r\n                </div>\r\n\r\n                <div className=\"poll-actions\">\r\n                    <button className=\"vote-btn\" onClick={() => vote(myOption)} disabled={myOption < 0 || voteStatus=='Voting'}>{voteStatus}</button>\r\n                    <button className=\"show-vote-btn\" onClick={showVote}>Show Votes</button>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport function VoteStats({pollData, goBack, id}){\r\n    const [newPollVotes, setNewPollVotes ] = useState(null)\r\n    const liveFeedFailed = () => {\r\n        alert('Failed to connect live feed.')\r\n        goBack()\r\n    }\r\n    useEffect(()=>{\r\n        const socketEvent = io(\"http://localhost:8080\");\r\n        socketEvent.on('connect_error', liveFeedFailed )\r\n        socketEvent.on('connect_failed', liveFeedFailed)\r\n        socketEvent.on('connect',() => socketEvent.emit('JOIN_AUDIENCE', id))\r\n        socketEvent.on('NEW_VOTES',newPollData => setNewPollVotes(newPollData))\r\n        return () => socketEvent.disconnect()\r\n    },[])\r\n    return (\r\n        <div className=\"vote-poll\">\r\n        <h1 className=\"poll-title\">\r\n                {pollData.title}\r\n        </h1>\r\n        <p className=\"poll-time\">\r\n            Created {formatSeconds(Number(((new Date().valueOf() - pollData.createdAt)/1000).toFixed()))} ago\r\n        </p>\r\n        <div className=\"poll-star\">\r\n            <p className=\"poll__description\">\r\n                {pollData.description || ''}\r\n            </p>\r\n            <div className=\"poll-votes\">\r\n                {\r\n                    (Object.keys((newPollVotes || pollData).votes) || []).map((option, i) => {\r\n                        let percent = (newPollVotes || pollData).votes[option]/(newPollVotes || pollData)['totalVotes'] * 100;\r\n                        percent = `${percent}` == 'NaN' ? 0 : percent;\r\n                        return <div className=\"poll-option-block\" key={i}>\r\n                        <div className=\"poll-option--progress\">\r\n                            <p>{option} ({(newPollVotes || pollData).votes[option]} votes)</p>\r\n                            {`${percent.toFixed(1)}%`}\r\n                        </div>\r\n                        <div className=\"option-progress\">\r\n                            <div id=\"option-progress\" style={{width : `${(percent).toFixed(1)}%` }}></div>\r\n                        </div>\r\n                    </div>\r\n                    })\r\n                }\r\n            </div>\r\n\r\n            <div className=\"divider\"></div>\r\n            <div className=\"total-votes\">Total Votes : {(newPollVotes || pollData).totalVotes}</div>\r\n\r\n            <div className=\"poll-actions\">\r\n                <button className=\"vote-btn back-btn\" onClick={goBack}>Back to Vote</button>\r\n            </div>\r\n        </div>\r\n    </div>\r\n    )\r\n}",{"ruleId":"131","severity":1,"message":"132","line":15,"column":92,"nodeType":"133","messageId":"134","endLine":15,"endColumn":93,"fix":"135"},{"ruleId":"131","severity":1,"message":"132","line":16,"column":28,"nodeType":"133","messageId":"134","endLine":16,"endColumn":29,"fix":"136"},{"ruleId":"137","severity":1,"message":"138","line":19,"column":34,"nodeType":"139","messageId":"140","endLine":19,"endColumn":36},{"ruleId":"141","severity":1,"message":"142","line":27,"column":8,"nodeType":"143","endLine":27,"endColumn":10,"suggestions":"144"},{"ruleId":"131","severity":1,"message":"132","line":30,"column":118,"nodeType":"133","messageId":"134","endLine":30,"endColumn":119,"fix":"145"},{"ruleId":"131","severity":1,"message":"132","line":31,"column":28,"nodeType":"133","messageId":"134","endLine":31,"endColumn":29,"fix":"146"},{"ruleId":"137","severity":1,"message":"138","line":34,"column":30,"nodeType":"139","messageId":"140","endLine":34,"endColumn":32},{"ruleId":"147","replacedBy":"148"},{"ruleId":"149","replacedBy":"150"},{"ruleId":"141","severity":1,"message":"151","line":17,"column":7,"nodeType":"143","endLine":17,"endColumn":9,"suggestions":"152"},{"ruleId":"131","severity":1,"message":"132","line":24,"column":13,"nodeType":"133","messageId":"134","endLine":24,"endColumn":14,"fix":"153"},{"ruleId":"131","severity":1,"message":"132","line":25,"column":28,"nodeType":"133","messageId":"134","endLine":25,"endColumn":29,"fix":"154"},{"ruleId":"155","severity":1,"message":"156","line":3,"column":8,"nodeType":"157","messageId":"158","endLine":3,"endColumn":14},{"ruleId":"155","severity":1,"message":"159","line":4,"column":8,"nodeType":"157","messageId":"158","endLine":4,"endColumn":12},{"ruleId":"137","severity":1,"message":"160","line":37,"column":117,"nodeType":"139","messageId":"140","endLine":37,"endColumn":119},{"ruleId":"155","severity":1,"message":"161","line":1,"column":38,"nodeType":"157","messageId":"158","endLine":1,"endColumn":47},{"ruleId":"155","severity":1,"message":"162","line":104,"column":20,"nodeType":"157","messageId":"158","endLine":104,"endColumn":29},{"ruleId":"147","replacedBy":"163"},{"ruleId":"149","replacedBy":"164"},{"ruleId":"141","severity":1,"message":"165","line":18,"column":7,"nodeType":"143","endLine":18,"endColumn":9,"suggestions":"166"},{"ruleId":"131","severity":1,"message":"132","line":25,"column":13,"nodeType":"133","messageId":"134","endLine":25,"endColumn":14,"fix":"167"},{"ruleId":"131","severity":1,"message":"132","line":26,"column":28,"nodeType":"133","messageId":"134","endLine":26,"endColumn":29,"fix":"168"},{"ruleId":"155","severity":1,"message":"156","line":3,"column":8,"nodeType":"157","messageId":"158","endLine":3,"endColumn":14},{"ruleId":"155","severity":1,"message":"159","line":4,"column":8,"nodeType":"157","messageId":"158","endLine":4,"endColumn":12},{"ruleId":"131","severity":1,"message":"132","line":18,"column":92,"nodeType":"133","messageId":"134","endLine":18,"endColumn":93,"fix":"169"},{"ruleId":"131","severity":1,"message":"132","line":19,"column":28,"nodeType":"133","messageId":"134","endLine":19,"endColumn":29,"fix":"170"},{"ruleId":"137","severity":1,"message":"138","line":23,"column":38,"nodeType":"139","messageId":"140","endLine":23,"endColumn":40},{"ruleId":"141","severity":1,"message":"171","line":38,"column":7,"nodeType":"143","endLine":38,"endColumn":30,"suggestions":"172"},{"ruleId":"141","severity":1,"message":"173","line":43,"column":7,"nodeType":"143","endLine":43,"endColumn":22,"suggestions":"174"},{"ruleId":"141","severity":1,"message":"175","line":47,"column":8,"nodeType":"143","endLine":47,"endColumn":30,"suggestions":"176"},{"ruleId":"131","severity":1,"message":"132","line":66,"column":127,"nodeType":"133","messageId":"134","endLine":66,"endColumn":128,"fix":"177"},{"ruleId":"131","severity":1,"message":"132","line":67,"column":28,"nodeType":"133","messageId":"134","endLine":67,"endColumn":29,"fix":"178"},{"ruleId":"137","severity":1,"message":"138","line":70,"column":30,"nodeType":"139","messageId":"140","endLine":70,"endColumn":32},{"ruleId":"155","severity":1,"message":"162","line":117,"column":20,"nodeType":"157","messageId":"158","endLine":117,"endColumn":29},{"ruleId":"137","severity":1,"message":"160","line":38,"column":117,"nodeType":"139","messageId":"140","endLine":38,"endColumn":119},{"ruleId":"141","severity":1,"message":"179","line":59,"column":7,"nodeType":"143","endLine":59,"endColumn":9,"suggestions":"180"},{"ruleId":"137","severity":1,"message":"160","line":76,"column":48,"nodeType":"139","messageId":"140","endLine":76,"endColumn":50},"dot-location","Expected dot to be on same line as property.","MemberExpression","expectedDotBeforeProperty",{"range":"181","text":"182"},{"range":"183","text":"184"},"eqeqeq","Expected '!==' and instead saw '!='.","BinaryExpression","unexpected","react-hooks/exhaustive-deps","React Hook useEffect has missing dependencies: 'history' and 'setContext'. Either include them or remove the dependency array.","ArrayExpression",["185"],{"range":"186","text":"182"},{"range":"187","text":"184"},"no-native-reassign",["188"],"no-negated-in-lhs",["189"],"React Hook useEffect has a missing dependency: 'createLocation.state.alert'. Either include it or remove the dependency array.",["190"],{"range":"191","text":"182"},{"range":"192","text":"182"},"no-unused-vars","'Create' is defined but never used.","Identifier","unusedVar","'Vote' is defined but never used.","Expected '===' and instead saw '=='.","'createRef' is defined but never used.","'setSelect' is assigned a value but never used.",["188"],["189"],"React Hook useEffect has a missing dependency: 'createLocation.state'. Either include it or remove the dependency array.",["193"],{"range":"194","text":"182"},{"range":"195","text":"182"},{"range":"196","text":"182"},{"range":"197","text":"184"},"React Hook useEffect has a missing dependency: 'voteContext.id'. Either include it or remove the dependency array.",["198"],"React Hook useEffect has missing dependencies: 'fetchPoll' and 'setContext'. Either include them or remove the dependency array.",["199"],"React Hook useEffect has a missing dependency: 'fetchPoll'. Either include it or remove the dependency array.",["200"],{"range":"201","text":"182"},{"range":"202","text":"184"},"React Hook useEffect has missing dependencies: 'id' and 'liveFeedFailed'. Either include them or remove the dependency array.",["203"],[663,675]," \r\n        .",[694,705],"\r\n        .",{"desc":"204","fix":"205"},[1294,1306],[1325,1336],"no-global-assign","no-unsafe-negation",{"desc":"206","fix":"207"},[937,949],[968,980],{"desc":"208","fix":"209"},[1009,1021],[1040,1052],[799,811],[830,841],{"desc":"210","fix":"211"},{"desc":"212","fix":"213"},{"desc":"214","fix":"215"},[2750,2762],[2781,2792],{"desc":"216","fix":"217"},"Update the dependencies array to be: [history, setContext]",{"range":"218","text":"219"},"Update the dependencies array to be: [createLocation.state.alert]",{"range":"220","text":"221"},"Update the dependencies array to be: [createLocation.state]",{"range":"222","text":"223"},"Update the dependencies array to be: [voteContext.id, voteContext?.pollData]",{"range":"224","text":"225"},"Update the dependencies array to be: [fetchPoll, reduxSelector, setContext]",{"range":"226","text":"227"},"Update the dependencies array to be: [fetchPoll, voteContext.voteStat]",{"range":"228","text":"229"},"Update the dependencies array to be: [id, liveFeedFailed]",{"range":"230","text":"231"},[1096,1098],"[history, setContext]",[650,652],"[createLocation.state.alert]",[721,723],"[createLocation.state]",[1558,1581],"[voteContext.id, voteContext?.pollData]",[1717,1732],"[fetchPoll, reduxSelector, setContext]",[1838,1860],"[fetchPoll, voteContext.voteStat]",[2563,2565],"[id, liveFeedFailed]"]